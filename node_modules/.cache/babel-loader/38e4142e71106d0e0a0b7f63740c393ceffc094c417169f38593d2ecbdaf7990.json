{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eniac\\\\Desktop\\\\deepblue\\\\src\\\\components\\\\Whiteboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Stage, Layer, Line } from 'react-konva';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:3001');\nconst Whiteboard = () => {\n  _s();\n  const [lines, setLines] = useState([]);\n  const [isDrawing, setIsDrawing] = useState(false);\n  useEffect(() => {\n    socket.on('draw-line', receivedLines => {\n      setLines(receivedLines);\n    });\n    return () => {\n      socket.off('draw-line');\n    };\n  }, []);\n  const handleMouseDown = e => {\n    setIsDrawing(true);\n    const pos = e.target.getStage().getPointerPosition();\n    const newLines = [...lines, {\n      points: [pos.x, pos.y]\n    }];\n    setLines(newLines);\n    socket.emit('draw-line', newLines);\n  };\n  const handleMouseMove = e => {\n    if (!isDrawing) return;\n    const stage = e.target.getStage();\n    const point = stage.getPointerPosition();\n    const lastLine = lines[lines.length - 1];\n    lastLine.points = lastLine.points.concat([point.x, point.y]);\n    const newLines = [...lines.slice(0, -1), lastLine];\n    setLines(newLines);\n    socket.emit('draw-line', newLines);\n  };\n  const handleMouseUp = () => {\n    setIsDrawing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Stage, {\n    width: window.innerWidth,\n    height: window.innerHeight,\n    onMouseDown: handleMouseDown,\n    onMousemove: handleMouseMove,\n    onMouseup: handleMouseUp,\n    onTouchStart: handleMouseDown,\n    onTouchMove: handleMouseMove,\n    onTouchEnd: handleMouseUp,\n    children: /*#__PURE__*/_jsxDEV(Layer, {\n      children: lines.map((line, i) => /*#__PURE__*/_jsxDEV(Line, {\n        points: line.points,\n        stroke: \"#000000\",\n        strokeWidth: 5,\n        tension: 0.5,\n        lineCap: \"round\",\n        lineJoin: \"round\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(Whiteboard, \"KEKpI6kIGOZ/+mrFJ0tTdALn1zU=\");\n_c = Whiteboard;\nexport default Whiteboard;\nvar _c;\n$RefreshReg$(_c, \"Whiteboard\");","map":{"version":3,"names":["React","useState","useEffect","Stage","Layer","Line","io","jsxDEV","_jsxDEV","socket","Whiteboard","_s","lines","setLines","isDrawing","setIsDrawing","on","receivedLines","off","handleMouseDown","e","pos","target","getStage","getPointerPosition","newLines","points","x","y","emit","handleMouseMove","stage","point","lastLine","length","concat","slice","handleMouseUp","width","window","innerWidth","height","innerHeight","onMouseDown","onMousemove","onMouseup","onTouchStart","onTouchMove","onTouchEnd","children","map","line","i","stroke","strokeWidth","tension","lineCap","lineJoin","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/eniac/Desktop/deepblue/src/components/Whiteboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Stage, Layer, Line } from 'react-konva';\r\nimport io from 'socket.io-client';\r\n\r\nconst socket = io('http://localhost:3001');\r\n\r\nconst Whiteboard = () => {\r\n  const [lines, setLines] = useState([]);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    socket.on('draw-line', (receivedLines) => {\r\n      setLines(receivedLines);\r\n    });\r\n\r\n    return () => {\r\n      socket.off('draw-line');\r\n    };\r\n  }, []);\r\n\r\n  const handleMouseDown = (e) => {\r\n    setIsDrawing(true);\r\n    const pos = e.target.getStage().getPointerPosition();\r\n    const newLines = [...lines, { points: [pos.x, pos.y] }];\r\n    setLines(newLines);\r\n    socket.emit('draw-line', newLines);\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDrawing) return;\r\n\r\n    const stage = e.target.getStage();\r\n    const point = stage.getPointerPosition();\r\n    const lastLine = lines[lines.length - 1];\r\n    lastLine.points = lastLine.points.concat([point.x, point.y]);\r\n    const newLines = [...lines.slice(0, -1), lastLine];\r\n    setLines(newLines);\r\n    socket.emit('draw-line', newLines);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  return (\r\n    <Stage\r\n      width={window.innerWidth}\r\n      height={window.innerHeight}\r\n      onMouseDown={handleMouseDown}\r\n      onMousemove={handleMouseMove}\r\n      onMouseup={handleMouseUp}\r\n      onTouchStart={handleMouseDown}\r\n      onTouchMove={handleMouseMove}\r\n      onTouchEnd={handleMouseUp}\r\n    >\r\n      <Layer>\r\n        {lines.map((line, i) => (\r\n          <Line\r\n            key={i}\r\n            points={line.points}\r\n            stroke=\"#000000\"\r\n            strokeWidth={5}\r\n            tension={0.5}\r\n            lineCap=\"round\"\r\n            lineJoin=\"round\"\r\n          />\r\n        ))}\r\n      </Layer>\r\n    </Stage>\r\n  );\r\n};\r\n\r\nexport default Whiteboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}